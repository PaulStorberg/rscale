<div class="form" id="vote-form-<%= option_id %>" style="text-align: center;">

  <%= form_with(model: @vote) do |f| %>
    <%= f.hidden_field :poll_option_id, value: option_id %>
    <%= f.hidden_field :user_id, value: current_user.id %>

    <% if @vote.errors.any? %>
      <%= @vote.errors.full_messages %>
    <% end %>

    <div id="textInput<%= option_id %>" class="slider-range-value">0</div>

    <%= f.range_field :rating, id: "myRange#{option_id}", class: "slider", min: -5, max: 5, step: 0.01, onchange: "updateTextInput#{option_id}(this.value)" %>

    <%= f.submit "Lock in Vote", class: "submit-button vote-submit-button", id: "vote-submit-button#{option_id}" %>

  <% end %>
</div>

<script type="text/javascript">
  function updateTextInput<%= option_id %>(val) {
    document.getElementById("textInput<%= option_id %>").innerHTML=val;
  }
</script>
